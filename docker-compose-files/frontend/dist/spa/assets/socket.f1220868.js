import{c as ce,i as ee,e as X,a as te,h as ue,d as le,l as fe,f as he,g as de,Z as ie,r as Q}from"./index.42b68e9e.js";var Qe=ce({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(S,{slots:T}){const{proxy:{$q:t}}=de(),l=ee(fe,X);if(l===X)return console.error("QPage needs to be a deep child of QLayout"),X;if(ee(he,X)===X)return console.error("QPage needs to be child of QPageContainer"),X;const u=te(()=>{const o=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof S.styleFn=="function"){const e=l.isContainer.value===!0?l.containerHeight.value:t.screen.height;return S.styleFn(o,e)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-o+"px":t.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":t.screen.height-o+"px"}}),s=te(()=>`q-page${S.padding===!0?" q-layout-padding":""}`);return()=>ue("main",{class:s.value,style:u.value},le(T.default))}}),F=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function pe(S){if(S.__esModule)return S;var T=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(S).forEach(function(t){var l=Object.getOwnPropertyDescriptor(S,t);Object.defineProperty(T,t,l.get?l:{enumerable:!0,get:function(){return S[t]}})}),T}function $(S){throw new Error('Could not dynamically require "'+S+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V={exports:{}},Z={};(function(S){(function(){var T,t,l,b,u={}.hasOwnProperty,s=[].slice;T={LF:`
`,NULL:"\0"},l=function(){var o;function e(r,n,i){this.command=r,this.headers=n!=null?n:{},this.body=i!=null?i:""}return e.prototype.toString=function(){var r,n,i,a,c;r=[this.command],i=this.headers["content-length"]===!1,i&&delete this.headers["content-length"],c=this.headers;for(n in c)!u.call(c,n)||(a=c[n],r.push(""+n+":"+a));return this.body&&!i&&r.push("content-length:"+e.sizeOfUTF8(this.body)),r.push(T.LF+this.body),r.join(T.LF)},e.sizeOfUTF8=function(r){return r?encodeURI(r).match(/%..|./g).length:0},o=function(r){var n,i,a,c,v,d,h,f,m,_,j,I,N,R,w,y,x;for(c=r.search(RegExp(""+T.LF+T.LF)),v=r.substring(0,c).split(T.LF),a=v.shift(),d={},I=function(p){return p.replace(/^\s+|\s+$/g,"")},y=v.reverse(),N=0,w=y.length;N<w;N++)_=y[N],f=_.indexOf(":"),d[I(_.substring(0,f))]=I(_.substring(f+1));if(n="",j=c+2,d["content-length"])m=parseInt(d["content-length"]),n=(""+r).substring(j,j+m);else for(i=null,h=R=j,x=r.length;(j<=x?R<x:R>x)&&(i=r.charAt(h),i!==T.NULL);h=j<=x?++R:--R)n+=i;return new e(a,d,n)},e.unmarshall=function(r){var n;return function(){var i,a,c,v;for(c=r.split(RegExp(""+T.NULL+T.LF+"*")),v=[],i=0,a=c.length;i<a;i++)n=c[i],(n!=null?n.length:void 0)>0&&v.push(o(n));return v}()},e.marshall=function(r,n,i){var a;return a=new e(r,n,i),a.toString()+T.NULL},e}(),t=function(){var o;function e(r){this.ws=r,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={}}return e.prototype.debug=function(r){var n;return typeof window!="undefined"&&window!==null&&(n=window.console)!=null?n.log(r):void 0},o=function(){return Date.now?Date.now():new Date().valueOf},e.prototype._transmit=function(r,n,i){var a;for(a=l.marshall(r,n,i),typeof this.debug=="function"&&this.debug(">>> "+a);;)if(a.length>this.maxWebSocketFrameSize)this.ws.send(a.substring(0,this.maxWebSocketFrameSize)),a=a.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+a.length);else return this.ws.send(a)},e.prototype._setupHeartbeat=function(r){var n,i,a,c,v,d;if(!((v=r.version)!==b.VERSIONS.V1_1&&v!==b.VERSIONS.V1_2)&&(d=function(){var h,f,m,_;for(m=r["heart-beat"].split(","),_=[],h=0,f=m.length;h<f;h++)c=m[h],_.push(parseInt(c));return _}(),i=d[0],n=d[1],this.heartbeat.outgoing===0||n===0||(a=Math.max(this.heartbeat.outgoing,n),typeof this.debug=="function"&&this.debug("send PING every "+a+"ms"),this.pinger=b.setInterval(a,function(h){return function(){return h.ws.send(T.LF),typeof h.debug=="function"?h.debug(">>> PING"):void 0}}(this))),!(this.heartbeat.incoming===0||i===0)))return a=Math.max(this.heartbeat.incoming,i),typeof this.debug=="function"&&this.debug("check PONG every "+a+"ms"),this.ponger=b.setInterval(a,function(h){return function(){var f;if(f=o()-h.serverActivity,f>a*2)return typeof h.debug=="function"&&h.debug("did not receive server activity for the last "+f+"ms"),h.ws.close()}}(this))},e.prototype._parseConnect=function(){var r,n,i,a;switch(r=1<=arguments.length?s.call(arguments,0):[],a={},r.length){case 2:a=r[0],n=r[1];break;case 3:r[1]instanceof Function?(a=r[0],n=r[1],i=r[2]):(a.login=r[0],a.passcode=r[1],n=r[2]);break;case 4:a.login=r[0],a.passcode=r[1],n=r[2],i=r[3];break;default:a.login=r[0],a.passcode=r[1],n=r[2],i=r[3],a.host=r[4]}return[a,n,i]},e.prototype.connect=function(){var r,n,i,a;return r=1<=arguments.length?s.call(arguments,0):[],a=this._parseConnect.apply(this,r),i=a[0],this.connectCallback=a[1],n=a[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(c){return function(v){var d,h,f,m,_,j,I,N,R,w,y,x;if(m=typeof ArrayBuffer!="undefined"&&v.data instanceof ArrayBuffer?(d=new Uint8Array(v.data),typeof c.debug=="function"&&c.debug("--- got data length: "+d.length),function(){var p,E,g;for(g=[],p=0,E=d.length;p<E;p++)h=d[p],g.push(String.fromCharCode(h));return g}().join("")):v.data,c.serverActivity=o(),m===T.LF){typeof c.debug=="function"&&c.debug("<<< PONG");return}for(typeof c.debug=="function"&&c.debug("<<< "+m),y=l.unmarshall(m),x=[],R=0,w=y.length;R<w;R++)switch(_=y[R],_.command){case"CONNECTED":typeof c.debug=="function"&&c.debug("connected to server "+_.headers.server),c.connected=!0,c._setupHeartbeat(_.headers),x.push(typeof c.connectCallback=="function"?c.connectCallback(_):void 0);break;case"MESSAGE":N=_.headers.subscription,I=c.subscriptions[N]||c.onreceive,I?(f=c,j=_.headers["message-id"],_.ack=function(p){return p==null&&(p={}),f.ack(j,N,p)},_.nack=function(p){return p==null&&(p={}),f.nack(j,N,p)},x.push(I(_))):x.push(typeof c.debug=="function"?c.debug("Unhandled received MESSAGE: "+_):void 0);break;case"RECEIPT":x.push(typeof c.onreceipt=="function"?c.onreceipt(_):void 0);break;case"ERROR":x.push(typeof n=="function"?n(_):void 0);break;default:x.push(typeof c.debug=="function"?c.debug("Unhandled frame: "+_):void 0)}return x}}(this),this.ws.onclose=function(c){return function(){var v;return v="Whoops! Lost connection to "+c.ws.url,typeof c.debug=="function"&&c.debug(v),c._cleanUp(),typeof n=="function"?n(v):void 0}}(this),this.ws.onopen=function(c){return function(){return typeof c.debug=="function"&&c.debug("Web Socket Opened..."),i["accept-version"]=b.VERSIONS.supportedVersions(),i["heart-beat"]=[c.heartbeat.outgoing,c.heartbeat.incoming].join(","),c._transmit("CONNECT",i)}}(this)},e.prototype.disconnect=function(r,n){return n==null&&(n={}),this._transmit("DISCONNECT",n),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof r=="function"?r():void 0},e.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&b.clearInterval(this.pinger),this.ponger)return b.clearInterval(this.ponger)},e.prototype.send=function(r,n,i){return n==null&&(n={}),i==null&&(i=""),n.destination=r,this._transmit("SEND",n,i)},e.prototype.subscribe=function(r,n,i){var a;return i==null&&(i={}),i.id||(i.id="sub-"+this.counter++),i.destination=r,this.subscriptions[i.id]=n,this._transmit("SUBSCRIBE",i),a=this,{id:i.id,unsubscribe:function(){return a.unsubscribe(i.id)}}},e.prototype.unsubscribe=function(r){return delete this.subscriptions[r],this._transmit("UNSUBSCRIBE",{id:r})},e.prototype.begin=function(r){var n,i;return i=r||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:i}),n=this,{id:i,commit:function(){return n.commit(i)},abort:function(){return n.abort(i)}}},e.prototype.commit=function(r){return this._transmit("COMMIT",{transaction:r})},e.prototype.abort=function(r){return this._transmit("ABORT",{transaction:r})},e.prototype.ack=function(r,n,i){return i==null&&(i={}),i["message-id"]=r,i.subscription=n,this._transmit("ACK",i)},e.prototype.nack=function(r,n,i){return i==null&&(i={}),i["message-id"]=r,i.subscription=n,this._transmit("NACK",i)},e}(),b={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(o,e){var r,n;return e==null&&(e=["v10.stomp","v11.stomp"]),r=b.WebSocketClass||WebSocket,n=new r(o,e),new t(n)},over:function(o){return new t(o)},Frame:l},S!==null&&(S.Stomp=b),typeof window!="undefined"&&window!==null?(b.setInterval=function(o,e){return window.setInterval(e,o)},b.clearInterval=function(o){return window.clearInterval(o)},window.Stomp=b):S||(self.Stomp=b)}).call(F)})(Z);var K={},me={},ve=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"})),ge=pe(ve);const ye="websocket",be="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",we=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],xe="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Ce=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Ee="1.0.34",Se={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},_e="https://github.com/theturtle32/WebSocket-Node",Oe={node:">=4.0.0"},ke={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Te={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},je={verbose:!1},Ie={test:"tape test/unit/*.js",gulp:"gulp"},Ne="index",Fe={lib:"./lib"},Re="lib/browser.js",Ae="Apache-2.0";var Le={name:ye,description:be,keywords:we,author:xe,contributors:Ce,version:Ee,repository:Se,homepage:_e,engines:Oe,dependencies:ke,devDependencies:Te,config:je,scripts:Ie,main:Ne,directories:Fe,browser:Re,license:Ae},Ue=Le.version,W;if(typeof globalThis=="object")W=globalThis;else try{W=require("es5-ext/global")}catch{}finally{if(!W&&typeof window!="undefined"&&(W=window),!W)throw new Error("Could not determine global this")}var J=W.WebSocket||W.MozWebSocket,Pe=Ue;function oe(S,T){var t;return T?t=new J(S,T):t=new J(S),t}J&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(S){Object.defineProperty(oe,S,{get:function(){return J[S]}})});var Me={w3cwebsocket:J?oe:null,version:Pe};(function(){var S,T,t,l,b,u;S=Z,T=ge,S.Stomp.setInterval=function(s,o){return setInterval(o,s)},S.Stomp.clearInterval=function(s){return clearInterval(s)},b=function(s,o){var e,r;return e=null,r={url:"tcp:// "+o+":"+s,send:function(n){return e.write(n)},close:function(){return e.end()}},e=T.connect(s,o,function(n){return r.onopen()}),e.on("error",function(n){return typeof r.onclose=="function"?r.onclose(n):void 0}),e.on("close",function(n){return typeof r.onclose=="function"?r.onclose(n):void 0}),e.on("data",function(n){var i;return i={data:n.toString()},r.onmessage(i)}),r},u=function(s){var o,e,r,n;return o=Me.client,e=null,n={url:s,send:function(i){return e.sendUTF(i)},close:function(){return e.close()}},r=new o,r.on("connect",function(i){return e=i,n.onopen(),e.on("error",function(a){return typeof n.onclose=="function"?n.onclose(a):void 0}),e.on("close",function(){return typeof n.onclose=="function"?n.onclose():void 0}),e.on("message",function(a){var c;if(a.type==="utf8")return c={data:a.utf8Data},n.onmessage(c)})}),r.connect(s),n},t=function(s,o){var e;return e=b(o,s),S.Stomp.over(e)},l=function(s){var o;return o=u(s),S.Stomp.over(o)},K.overTCP=t,K.overWS=l}).call(F);var De=Z,se=K;V.exports=De.Stomp;V.exports.overTCP=se.overTCP;V.exports.overWS=se.overWS;var Be=V.exports,ae={exports:{}};(function(S,T){(function(t){S.exports=t()})(function(){return function(){function t(l,b,u){function s(r,n){if(!b[r]){if(!l[r]){var i=typeof $=="function"&&$;if(!n&&i)return i(r,!0);if(o)return o(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var c=b[r]={exports:{}};l[r][0].call(c.exports,function(v){var d=l[r][1][v];return s(d||v)},c,c.exports,t,l,b,u)}return b[r].exports}for(var o=typeof $=="function"&&$,e=0;e<u.length;e++)s(u[e]);return s}return t}()({1:[function(t,l,b){(function(u){(function(){var s=t("./transport-list");l.exports=t("./main")(s),"_sockjs_onload"in u&&setTimeout(u._sockjs_onload,1)}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,l,b){var u=t("inherits"),s=t("./event");function o(){s.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}u(o,s),l.exports=o},{"./event":4,inherits:57}],3:[function(t,l,b){var u=t("inherits"),s=t("./eventtarget");function o(){s.call(this)}u(o,s),o.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},o.prototype.once=function(e,r){var n=this,i=!1;function a(){n.removeListener(e,a),i||(i=!0,r.apply(this,arguments))}this.on(e,a)},o.prototype.emit=function(){var e=arguments[0],r=this._listeners[e];if(!!r){for(var n=arguments.length,i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];for(var c=0;c<r.length;c++)r[c].apply(this,i)}},o.prototype.on=o.prototype.addListener=s.prototype.addEventListener,o.prototype.removeListener=s.prototype.removeEventListener,l.exports.EventEmitter=o},{"./eventtarget":5,inherits:57}],4:[function(t,l,b){function u(s){this.type=s}u.prototype.initEvent=function(s,o,e){return this.type=s,this.bubbles=o,this.cancelable=e,this.timeStamp=+new Date,this},u.prototype.stopPropagation=function(){},u.prototype.preventDefault=function(){},u.CAPTURING_PHASE=1,u.AT_TARGET=2,u.BUBBLING_PHASE=3,l.exports=u},{}],5:[function(t,l,b){function u(){this._listeners={}}u.prototype.addEventListener=function(s,o){s in this._listeners||(this._listeners[s]=[]);var e=this._listeners[s];e.indexOf(o)===-1&&(e=e.concat([o])),this._listeners[s]=e},u.prototype.removeEventListener=function(s,o){var e=this._listeners[s];if(!!e){var r=e.indexOf(o);if(r!==-1){e.length>1?this._listeners[s]=e.slice(0,r).concat(e.slice(r+1)):delete this._listeners[s];return}}},u.prototype.dispatchEvent=function(){var s=arguments[0],o=s.type,e=arguments.length===1?[s]:Array.apply(null,arguments);if(this["on"+o]&&this["on"+o].apply(this,e),o in this._listeners)for(var r=this._listeners[o],n=0;n<r.length;n++)r[n].apply(this,e)},l.exports=u},{}],6:[function(t,l,b){var u=t("inherits"),s=t("./event");function o(e){s.call(this),this.initEvent("message",!1,!1),this.data=e}u(o,s),l.exports=o},{"./event":4,inherits:57}],7:[function(t,l,b){var u=t("./utils/iframe");function s(o){this._transport=o,o.on("message",this._transportMessage.bind(this)),o.on("close",this._transportClose.bind(this))}s.prototype._transportClose=function(o,e){u.postMessage("c",JSON.stringify([o,e]))},s.prototype._transportMessage=function(o){u.postMessage("t",o)},s.prototype._send=function(o){this._transport.send(o)},s.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},l.exports=s},{"./utils/iframe":47}],8:[function(t,l,b){(function(u){(function(){var s=t("./utils/url"),o=t("./utils/event"),e=t("./facade"),r=t("./info-iframe-receiver"),n=t("./utils/iframe"),i=t("./location"),a=function(){};l.exports=function(c,v){var d={};v.forEach(function(f){f.facadeTransport&&(d[f.facadeTransport.transportName]=f.facadeTransport)}),d[r.transportName]=r;var h;c.bootstrap_iframe=function(){var f;n.currentWindowId=i.hash.slice(1);var m=function(_){if(_.source===parent&&(typeof h=="undefined"&&(h=_.origin),_.origin===h)){var j;try{j=JSON.parse(_.data)}catch{a("bad json",_.data);return}if(j.windowId===n.currentWindowId)switch(j.type){case"s":var I;try{I=JSON.parse(j.data)}catch{a("bad json",j.data);break}var N=I[0],R=I[1],w=I[2],y=I[3];if(N!==c.version)throw new Error('Incompatible SockJS! Main site uses: "'+N+'", the iframe: "'+c.version+'".');if(!s.isOriginEqual(w,i.href)||!s.isOriginEqual(y,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+w+", "+y+")");f=new e(new d[R](w,y));break;case"m":f._send(j.data);break;case"c":f&&f._close(),f=null;break}}};o.attachEvent("message",m),n.postMessage("s")}}}).call(this)}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:55}],9:[function(t,l,b){(function(u){(function(){var s=t("events").EventEmitter,o=t("inherits"),e=t("./utils/object");function r(n,i){s.call(this);var a=this,c=+new Date;this.xo=new i("GET",n),this.xo.once("finish",function(v,d){var h,f;if(v===200){if(f=+new Date-c,d)try{h=JSON.parse(d)}catch{}e.isObject(h)||(h={})}a.emit("finish",h,f),a.removeAllListeners()})}o(r,s),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},l.exports=r}).call(this)}).call(this,{env:{}})},{"./utils/object":49,debug:55,events:3,inherits:57}],10:[function(t,l,b){var u=t("inherits"),s=t("events").EventEmitter,o=t("./transport/sender/xhr-local"),e=t("./info-ajax");function r(n){var i=this;s.call(this),this.ir=new e(n,o),this.ir.once("finish",function(a,c){i.ir=null,i.emit("message",JSON.stringify([a,c]))})}u(r,s),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},l.exports=r},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57}],11:[function(t,l,b){(function(u,s){(function(){var o=t("events").EventEmitter,e=t("inherits"),r=t("./utils/event"),n=t("./transport/iframe"),i=t("./info-iframe-receiver");function a(c,v){var d=this;o.call(this);var h=function(){var f=d.ifr=new n(i.transportName,v,c);f.once("message",function(m){if(m){var _;try{_=JSON.parse(m)}catch{d.emit("finish"),d.close();return}var j=_[0],I=_[1];d.emit("finish",j,I)}d.close()}),f.once("close",function(){d.emit("finish"),d.close()})};s.document.body?h():r.attachEvent("load",h)}e(a,o),a.enabled=function(){return n.enabled()},a.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},l.exports=a}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:55,events:3,inherits:57}],12:[function(t,l,b){(function(u){(function(){var s=t("events").EventEmitter,o=t("inherits"),e=t("./utils/url"),r=t("./transport/sender/xdr"),n=t("./transport/sender/xhr-cors"),i=t("./transport/sender/xhr-local"),a=t("./transport/sender/xhr-fake"),c=t("./info-iframe"),v=t("./info-ajax");function d(h,f){var m=this;s.call(this),setTimeout(function(){m.doXhr(h,f)},0)}o(d,s),d._getReceiver=function(h,f,m){return m.sameOrigin?new v(f,i):n.enabled?new v(f,n):r.enabled&&m.sameScheme?new v(f,r):c.enabled()?new c(h,f):new v(f,a)},d.prototype.doXhr=function(h,f){var m=this,_=e.addPath(h,"/info");this.xo=d._getReceiver(h,_,f),this.timeoutRef=setTimeout(function(){m._cleanup(!1),m.emit("finish")},d.timeout),this.xo.once("finish",function(j,I){m._cleanup(!0),m.emit("finish",j,I)})},d.prototype._cleanup=function(h){clearTimeout(this.timeoutRef),this.timeoutRef=null,!h&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,l.exports=d}).call(this)}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:55,events:3,inherits:57}],13:[function(t,l,b){(function(u){(function(){l.exports=u.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],14:[function(t,l,b){(function(u,s){(function(){t("./shims");var o=t("url-parse"),e=t("inherits"),r=t("./utils/random"),n=t("./utils/escape"),i=t("./utils/url"),a=t("./utils/event"),c=t("./utils/transport"),v=t("./utils/object"),d=t("./utils/browser"),h=t("./utils/log"),f=t("./event/event"),m=t("./event/eventtarget"),_=t("./location"),j=t("./event/close"),I=t("./event/trans-message"),N=t("./info-receiver"),R=function(){},w;function y(p,E,g){if(!(this instanceof y))return new y(p,E,g);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=y.CONNECTING,this.extensions="",this.protocol="",g=g||{},g.protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=g.transports,this._transportOptions=g.transportOptions||{},this._timeout=g.timeout||0;var O=g.sessionId||8;if(typeof O=="function")this._generateSessionId=O;else if(typeof O=="number")this._generateSessionId=function(){return r.string(O)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=g.server||r.numberString(1e3);var C=new o(p);if(!C.host||!C.protocol)throw new SyntaxError("The URL '"+p+"' is invalid");if(C.hash)throw new SyntaxError("The URL must not contain a fragment");if(C.protocol!=="http:"&&C.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+C.protocol+"' is not allowed.");var A=C.protocol==="https:";if(_.protocol==="https:"&&!A&&!i.isLoopbackAddr(C.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");E?Array.isArray(E)||(E=[E]):E=[];var U=E.sort();U.forEach(function(k,L){if(!k)throw new SyntaxError("The protocols entry '"+k+"' is invalid.");if(L<U.length-1&&k===U[L+1])throw new SyntaxError("The protocols entry '"+k+"' is duplicated.")});var P=i.getOrigin(_.href);this._origin=P?P.toLowerCase():null,C.set("pathname",C.pathname.replace(/\/+$/,"")),this.url=C.href,R("using url",this.url),this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:i.isOriginEqual(this.url,_.href),sameScheme:i.isSchemeEqual(this.url,_.href)},this._ir=new N(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(y,m);function x(p){return p===1e3||p>=3e3&&p<=4999}y.prototype.close=function(p,E){if(p&&!x(p))throw new Error("InvalidAccessError: Invalid code");if(E&&E.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===y.CLOSING||this.readyState===y.CLOSED)){var g=!0;this._close(p||1e3,E||"Normal closure",g)}},y.prototype.send=function(p){if(typeof p!="string"&&(p=""+p),this.readyState===y.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===y.OPEN&&this._transport.send(n.quote(p))},y.version=t("./version"),y.CONNECTING=0,y.OPEN=1,y.CLOSING=2,y.CLOSED=3,y.prototype._receiveInfo=function(p,E){if(this._ir=null,!p){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(E),this._transUrl=p.base_url?p.base_url:this.url,p=v.extend(p,this._urlInfo);var g=w.filterToEnabled(this._transportsWhitelist,p);this._transports=g.main,R(this._transports.length+" enabled transports"),this._connect()},y.prototype._connect=function(){for(var p=this._transports.shift();p;p=this._transports.shift()){if(R("attempt",p.transportName),p.needBody&&(!s.document.body||typeof s.document.readyState!="undefined"&&s.document.readyState!=="complete"&&s.document.readyState!=="interactive")){this._transports.unshift(p),a.attachEvent("load",this._connect.bind(this));return}var E=Math.max(this._timeout,this._rto*p.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),E);var g=i.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),O=this._transportOptions[p.transportName],C=new p(g,this._transUrl,O);C.on("message",this._transportMessage.bind(this)),C.once("close",this._transportClose.bind(this)),C.transportName=p.transportName,this._transport=C;return}this._close(2e3,"All transports failed",!1)},y.prototype._transportTimeout=function(){this.readyState===y.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},y.prototype._transportMessage=function(p){var E=this,g=p.slice(0,1),O=p.slice(1),C;switch(g){case"o":this._open();return;case"h":this.dispatchEvent(new f("heartbeat")),R("heartbeat",this.transport);return}if(O)try{C=JSON.parse(O)}catch{}if(typeof C!="undefined")switch(g){case"a":Array.isArray(C)&&C.forEach(function(A){R("message",E.transport),E.dispatchEvent(new I(A))});break;case"m":R("message",this.transport),this.dispatchEvent(new I(C));break;case"c":Array.isArray(C)&&C.length===2&&this._close(C[0],C[1],!0);break}},y.prototype._transportClose=function(p,E){if(R("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!x(p)&&p!==2e3&&this.readyState===y.CONNECTING){this._connect();return}this._close(p,E)},y.prototype._open=function(){R("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===y.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=y.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new f("open")),R("connected",this.transport)):this._close(1006,"Server lost session")},y.prototype._close=function(p,E,g){R("_close",this.transport,p,E,g,this.readyState);var O=!1;if(this._ir&&(O=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===y.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=y.CLOSING,setTimeout(function(){this.readyState=y.CLOSED,O&&this.dispatchEvent(new f("error"));var C=new j("close");C.wasClean=g||!1,C.code=p||1e3,C.reason=E,this.dispatchEvent(C),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},y.prototype.countRTO=function(p){return p>100?4*p:300+p},l.exports=function(p){return w=c(p),t("./iframe-bootstrap")(y,p),y}}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:55,inherits:57,"url-parse":60}],15:[function(t,l,b){var u=Array.prototype,s=Object.prototype,o=Function.prototype,e=String.prototype,r=u.slice,n=s.toString,i=function(E){return s.toString.call(E)==="[object Function]"},a=function(g){return n.call(g)==="[object Array]"},c=function(g){return n.call(g)==="[object String]"},v=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),d;v?d=function(E,g,O,C){!C&&g in E||Object.defineProperty(E,g,{configurable:!0,enumerable:!1,writable:!0,value:O})}:d=function(E,g,O,C){!C&&g in E||(E[g]=O)};var h=function(E,g,O){for(var C in g)s.hasOwnProperty.call(g,C)&&d(E,C,g[C],O)},f=function(E){if(E==null)throw new TypeError("can't convert "+E+" to object");return Object(E)};function m(E){var g=+E;return g!==g?g=0:g!==0&&g!==1/0&&g!==-(1/0)&&(g=(g>0||-1)*Math.floor(Math.abs(g))),g}function _(E){return E>>>0}function j(){}h(o,{bind:function(g){var O=this;if(!i(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var C=r.call(arguments,1),A=function(){if(this instanceof L){var B=O.apply(this,C.concat(r.call(arguments)));return Object(B)===B?B:this}else return O.apply(g,C.concat(r.call(arguments)))},U=Math.max(0,O.length-C.length),P=[],k=0;k<U;k++)P.push("$"+k);var L=Function("binder","return function ("+P.join(",")+"){ return binder.apply(this, arguments); }")(A);return O.prototype&&(j.prototype=O.prototype,L.prototype=new j,j.prototype=null),L}}),h(Array,{isArray:a});var I=Object("a"),N=I[0]!=="a"||!(0 in I),R=function(g){var O=!0,C=!0;return g&&(g.call("foo",function(A,U,P){typeof P!="object"&&(O=!1)}),g.call([1],function(){C=typeof this=="string"},"x")),!!g&&O&&C};h(u,{forEach:function(g){var O=f(this),C=N&&c(this)?this.split(""):O,A=arguments[1],U=-1,P=C.length>>>0;if(!i(g))throw new TypeError;for(;++U<P;)U in C&&g.call(A,C[U],U,O)}},!R(u.forEach));var w=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;h(u,{indexOf:function(g){var O=N&&c(this)?this.split(""):f(this),C=O.length>>>0;if(!C)return-1;var A=0;for(arguments.length>1&&(A=m(arguments[1])),A=A>=0?A:Math.max(0,C+A);A<C;A++)if(A in O&&O[A]===g)return A;return-1}},w);var y=e.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var E=/()??/.exec("")[1]===void 0;e.split=function(g,O){var C=this;if(g===void 0&&O===0)return[];if(n.call(g)!=="[object RegExp]")return y.call(this,g,O);var A=[],U=(g.ignoreCase?"i":"")+(g.multiline?"m":"")+(g.extended?"x":"")+(g.sticky?"y":""),P=0,k,L,B,q;for(g=new RegExp(g.source,U+"g"),C+="",E||(k=new RegExp("^"+g.source+"$(?!\\s)",U)),O=O===void 0?-1>>>0:_(O);(L=g.exec(C))&&(B=L.index+L[0].length,!(B>P&&(A.push(C.slice(P,L.index)),!E&&L.length>1&&L[0].replace(k,function(){for(var G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(L[G]=void 0)}),L.length>1&&L.index<C.length&&u.push.apply(A,L.slice(1)),q=L[0].length,P=B,A.length>=O)));)g.lastIndex===L.index&&g.lastIndex++;return P===C.length?(q||!g.test(""))&&A.push(""):A.push(C.slice(P)),A.length>O?A.slice(0,O):A}}():"0".split(void 0,0).length&&(e.split=function(g,O){return g===void 0&&O===0?[]:y.call(this,g,O)});var x=e.substr,p="".substr&&"0b".substr(-1)!=="b";h(e,{substr:function(g,O){return x.call(this,g<0&&(g=this.length+g)<0?0:g,O)}},p)},{}],16:[function(t,l,b){l.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,l,b){(function(u,s){(function(){var o=t("events").EventEmitter,e=t("inherits"),r=t("../../utils/event"),n=t("../../utils/url"),i=s.XMLHttpRequest,a=function(){};function c(h,f,m,_){var j=this;o.call(this),setTimeout(function(){j._start(h,f,m,_)},0)}e(c,o),c.prototype._start=function(h,f,m,_){var j=this;try{this.xhr=new i}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}f=n.addQuery(f,"t="+ +new Date),this.unloadRef=r.unloadAdd(function(){j._cleanup(!0)});try{this.xhr.open(h,f,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){a("xhr timeout"),j.emit("finish",0,""),j._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!_||!_.noCredentials)&&c.supportsCORS&&(this.xhr.withCredentials=!0),_&&_.headers)for(var I in _.headers)this.xhr.setRequestHeader(I,_.headers[I]);this.xhr.onreadystatechange=function(){if(j.xhr){var N=j.xhr,R,w;switch(a("readyState",N.readyState),N.readyState){case 3:try{w=N.status,R=N.responseText}catch{}w===1223&&(w=204),w===200&&R&&R.length>0&&j.emit("chunk",w,R);break;case 4:w=N.status,w===1223&&(w=204),(w===12005||w===12029)&&(w=0),a("finish",w,N.responseText),j.emit("finish",w,N.responseText),j._cleanup(!1);break}}};try{j.xhr.send(m)}catch{j.emit("finish",0,""),j._cleanup(!1)}},c.prototype._cleanup=function(h){if(!!this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),h)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!i;var v=["Active"].concat("Object").join("X");!c.enabled&&v in s&&(i=function(){try{return new s[v]("Microsoft.XMLHTTP")}catch{return null}},c.enabled=!!new i);var d=!1;try{d="withCredentials"in new i}catch{}c.supportsCORS=d,l.exports=c}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:55,events:3,inherits:57}],18:[function(t,l,b){(function(u){(function(){l.exports=u.EventSource}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],19:[function(t,l,b){(function(u){(function(){var s=u.WebSocket||u.MozWebSocket;s?l.exports=function(e){return new s(e)}:l.exports=void 0}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],20:[function(t,l,b){var u=t("inherits"),s=t("./lib/ajax-based"),o=t("./receiver/eventsource"),e=t("./sender/xhr-cors"),r=t("eventsource");function n(i){if(!n.enabled())throw new Error("Transport created when disabled");s.call(this,i,"/eventsource",o,e)}u(n,s),n.enabled=function(){return!!r},n.transportName="eventsource",n.roundTrips=2,l.exports=n},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(t,l,b){var u=t("inherits"),s=t("./receiver/htmlfile"),o=t("./sender/xhr-local"),e=t("./lib/ajax-based");function r(n){if(!s.enabled)throw new Error("Transport created when disabled");e.call(this,n,"/htmlfile",s,o)}u(r,e),r.enabled=function(n){return s.enabled&&n.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,l.exports=r},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("events").EventEmitter,e=t("../version"),r=t("../utils/url"),n=t("../utils/iframe"),i=t("../utils/event"),a=t("../utils/random"),c=function(){};function v(d,h,f){if(!v.enabled())throw new Error("Transport created when disabled");o.call(this);var m=this;this.origin=r.getOrigin(f),this.baseUrl=f,this.transUrl=h,this.transport=d,this.windowId=a.string(8);var _=r.addPath(f,"/iframe.html")+"#"+this.windowId;this.iframeObj=n.createIframe(_,function(j){m.emit("close",1006,"Unable to load an iframe ("+j+")"),m.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}s(v,o),v.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},v.prototype._message=function(d){if(c("message",d.data),!r.isOriginEqual(d.origin,this.origin)){c("not same origin",d.origin,this.origin);return}var h;try{h=JSON.parse(d.data)}catch{c("bad json",d.data);return}if(h.windowId!==this.windowId){c("mismatched window id",h.windowId,this.windowId);return}switch(h.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([e,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",h.data);break;case"c":var f;try{f=JSON.parse(h.data)}catch{c("bad json",h.data);return}this.emit("close",f[0],f[1]),this.close();break}},v.prototype.postMessage=function(d,h){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:d,data:h||""}),this.origin)},v.prototype.send=function(d){this.postMessage("m",d)},v.enabled=function(){return n.iframeEnabled},v.transportName="iframe",v.roundTrips=2,l.exports=v}).call(this)}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:55,events:3,inherits:57}],23:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("./lib/sender-receiver"),e=t("./receiver/jsonp"),r=t("./sender/jsonp");function n(i){if(!n.enabled())throw new Error("Transport created when disabled");o.call(this,i,"/jsonp",r,e)}s(n,o),n.enabled=function(){return!!u.document},n.transportName="jsonp-polling",n.roundTrips=1,n.needBody=!0,l.exports=n}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("../../utils/url"),e=t("./sender-receiver");function r(i){return function(a,c,v){var d={};typeof c=="string"&&(d.headers={"Content-type":"text/plain"});var h=o.addPath(a,"/xhr_send"),f=new i("POST",h,c,d);return f.once("finish",function(m){if(f=null,m!==200&&m!==204)return v(new Error("http status "+m));v()}),function(){f.close(),f=null;var m=new Error("Aborted");m.code=1e3,v(m)}}}function n(i,a,c,v){e.call(this,i,a,r(v),c,v)}s(n,e),l.exports=n}).call(this)}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:55,inherits:57}],25:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("events").EventEmitter,e=function(){};function r(n,i){o.call(this),this.sendBuffer=[],this.sender=i,this.url=n}s(r,o),r.prototype.send=function(n){this.sendBuffer.push(n),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var n=this,i;this.sendStop=function(){n.sendStop=null,clearTimeout(i)},i=setTimeout(function(){n.sendStop=null,n.sendSchedule()},25)},r.prototype.sendSchedule=function(){e("sendSchedule",this.sendBuffer.length);var n=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(a){n.sendStop=null,a?(n.emit("close",a.code||1006,"Sending error: "+a),n.close()):n.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},l.exports=r}).call(this)}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],26:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("../iframe"),e=t("../../utils/object");l.exports=function(r){function n(i,a){o.call(this,r.transportName,i,a)}return s(n,o),n.enabled=function(i,a){if(!u.document)return!1;var c=e.extend({},a);return c.sameOrigin=!0,r.enabled(c)&&o.enabled()},n.transportName="iframe-"+r.transportName,n.needBody=!0,n.roundTrips=o.roundTrips+r.roundTrips-1,n.facadeTransport=r,n}}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("events").EventEmitter,e=function(){};function r(n,i,a){o.call(this),this.Receiver=n,this.receiveUrl=i,this.AjaxObject=a,this._scheduleReceiver()}s(r,o),r.prototype._scheduleReceiver=function(){var n=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(a){n.emit("message",a)}),i.once("close",function(a,c){e("close",a,c,n.pollIsClosing),n.poll=i=null,n.pollIsClosing||(c==="network"?n._scheduleReceiver():(n.emit("close",a||1006,c),n.removeAllListeners()))})},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},l.exports=r}).call(this)}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],28:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("../../utils/url"),e=t("./buffered-sender"),r=t("./polling");function n(i,a,c,v,d){var h=o.addPath(i,a),f=this;e.call(this,i,c),this.poll=new r(v,h,d),this.poll.on("message",function(m){f.emit("message",m)}),this.poll.once("close",function(m,_){f.poll=null,f.emit("close",m,_),f.close()})}s(n,e),n.prototype.close=function(){e.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},l.exports=n}).call(this)}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:55,inherits:57}],29:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("events").EventEmitter,e=t("eventsource"),r=function(){};function n(i){o.call(this);var a=this,c=this.es=new e(i);c.onmessage=function(v){r("message",v.data),a.emit("message",decodeURI(v.data))},c.onerror=function(v){r("error",c.readyState);var d=c.readyState!==2?"network":"permanent";a._cleanup(),a._close(d)}}s(n,o),n.prototype.abort=function(){this._cleanup(),this._close("user")},n.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},n.prototype._close=function(i){var a=this;setTimeout(function(){a.emit("close",null,i),a.removeAllListeners()},200)},l.exports=n}).call(this)}).call(this,{env:{}})},{debug:55,events:3,eventsource:18,inherits:57}],30:[function(t,l,b){(function(u,s){(function(){var o=t("inherits"),e=t("../../utils/iframe"),r=t("../../utils/url"),n=t("events").EventEmitter,i=t("../../utils/random"),a=function(){};function c(d){n.call(this);var h=this;e.polluteGlobalNamespace(),this.id="a"+i.string(6),d=r.addQuery(d,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),a("using htmlfile",c.htmlfileEnabled);var f=c.htmlfileEnabled?e.createHtmlfile:e.createIframe;s[e.WPrefix][this.id]={start:function(){h.iframeObj.loaded()},message:function(m){h.emit("message",m)},stop:function(){h._cleanup(),h._close("network")}},this.iframeObj=f(d,function(){h._cleanup(),h._close("permanent")})}o(c,n),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete s[e.WPrefix][this.id]},c.prototype._close=function(d){this.emit("close",null,d),this.removeAllListeners()},c.htmlfileEnabled=!1;var v=["Active"].concat("Object").join("X");if(v in s)try{c.htmlfileEnabled=!!new s[v]("htmlfile")}catch{}c.enabled=c.htmlfileEnabled||e.iframeEnabled,l.exports=c}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:55,events:3,inherits:57}],31:[function(t,l,b){(function(u,s){(function(){var o=t("../../utils/iframe"),e=t("../../utils/random"),r=t("../../utils/browser"),n=t("../../utils/url"),i=t("inherits"),a=t("events").EventEmitter,c=function(){};function v(d){var h=this;a.call(this),o.polluteGlobalNamespace(),this.id="a"+e.string(6);var f=n.addQuery(d,"c="+encodeURIComponent(o.WPrefix+"."+this.id));s[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(f),this.timeoutId=setTimeout(function(){h._abort(new Error("JSONP script loaded abnormally (timeout)"))},v.timeout)}i(v,a),v.prototype.abort=function(){if(s[o.WPrefix][this.id]){var d=new Error("JSONP user aborted read");d.code=1e3,this._abort(d)}},v.timeout=35e3,v.scriptErrorTimeout=1e3,v.prototype._callback=function(d){this._cleanup(),!this.aborting&&(d&&this.emit("message",d),this.emit("close",null,"network"),this.removeAllListeners())},v.prototype._abort=function(d){this._cleanup(),this.aborting=!0,this.emit("close",d.code,d.message),this.removeAllListeners()},v.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var d=this.script;d.parentNode.removeChild(d),d.onreadystatechange=d.onerror=d.onload=d.onclick=null,this.script=null}delete s[o.WPrefix][this.id]},v.prototype._scriptError=function(){var d=this;this.errorTimer||(this.errorTimer=setTimeout(function(){d.loadedOkay||d._abort(new Error("JSONP script loaded abnormally (onerror)"))},v.scriptErrorTimeout))},v.prototype._createScript=function(d){var h=this,f=this.script=s.document.createElement("script"),m;if(f.id="a"+e.string(8),f.src=d,f.type="text/javascript",f.charset="UTF-8",f.onerror=this._scriptError.bind(this),f.onload=function(){h._abort(new Error("JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(){if(c("onreadystatechange",f.readyState),/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){h.loadedOkay=!0;try{f.onclick()}catch{}}f&&h._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof f.async=="undefined"&&s.document.attachEvent)if(r.isOpera())m=this.script2=s.document.createElement("script"),m.text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=m.async=!1;else{try{f.htmlFor=f.id,f.event="onclick"}catch{}f.async=!0}typeof f.async!="undefined"&&(f.async=!0);var _=s.document.getElementsByTagName("head")[0];_.insertBefore(f,_.firstChild),m&&_.insertBefore(m,_.firstChild)},l.exports=v}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:55,events:3,inherits:57}],32:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("events").EventEmitter;function e(r,n){o.call(this);var i=this;this.bufferPosition=0,this.xo=new n("POST",r,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,c){i._chunkHandler(a,c),i.xo=null;var v=a===200?"network":"permanent";i.emit("close",null,v),i._cleanup()})}s(e,o),e.prototype._chunkHandler=function(r,n){if(!(r!==200||!n))for(var i=-1;;this.bufferPosition+=i+1){var a=n.slice(this.bufferPosition);if(i=a.indexOf(`
`),i===-1)break;var c=a.slice(0,i);c&&this.emit("message",c)}},e.prototype._cleanup=function(){this.removeAllListeners()},e.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},l.exports=e}).call(this)}).call(this,{env:{}})},{debug:55,events:3,inherits:57}],33:[function(t,l,b){(function(u,s){(function(){var o=t("../../utils/random"),e=t("../../utils/url"),r=function(){},n,i;function a(v){try{return s.document.createElement('<iframe name="'+v+'">')}catch{var d=s.document.createElement("iframe");return d.name=v,d}}function c(){n=s.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",i=s.document.createElement("textarea"),i.name="d",n.appendChild(i),s.document.body.appendChild(n)}l.exports=function(v,d,h){n||c();var f="a"+o.string(8);n.target=f,n.action=e.addQuery(e.addPath(v,"/jsonp_send"),"i="+f);var m=a(f);m.id=f,m.style.display="none",n.appendChild(m);try{i.value=d}catch{}n.submit();var _=function(j){!m.onerror||(m.onreadystatechange=m.onerror=m.onload=null,setTimeout(function(){m.parentNode.removeChild(m),m=null},500),i.value="",h(j))};return m.onerror=function(){_()},m.onload=function(){_()},m.onreadystatechange=function(j){r("onreadystatechange",f,m.readyState),m.readyState==="complete"&&_()},function(){_(new Error("Aborted"))}}}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:55}],34:[function(t,l,b){(function(u,s){(function(){var o=t("events").EventEmitter,e=t("inherits"),r=t("../../utils/event"),n=t("../../utils/browser"),i=t("../../utils/url"),a=function(){};function c(v,d,h){var f=this;o.call(this),setTimeout(function(){f._start(v,d,h)},0)}e(c,o),c.prototype._start=function(v,d,h){var f=this,m=new s.XDomainRequest;d=i.addQuery(d,"t="+ +new Date),m.onerror=function(){f._error()},m.ontimeout=function(){f._error()},m.onprogress=function(){a("progress",m.responseText),f.emit("chunk",200,m.responseText)},m.onload=function(){f.emit("finish",200,m.responseText),f._cleanup(!1)},this.xdr=m,this.unloadRef=r.unloadAdd(function(){f._cleanup(!0)});try{this.xdr.open(v,d),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(h)}catch{this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(v){if(!!this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,v)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!(s.XDomainRequest&&n.hasDomain()),l.exports=c}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:55,events:3,inherits:57}],35:[function(t,l,b){var u=t("inherits"),s=t("../driver/xhr");function o(e,r,n,i){s.call(this,e,r,n,i)}u(o,s),o.enabled=s.enabled&&s.supportsCORS,l.exports=o},{"../driver/xhr":17,inherits:57}],36:[function(t,l,b){var u=t("events").EventEmitter,s=t("inherits");function o(){var e=this;u.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},o.timeout)}s(o,u),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,l.exports=o},{events:3,inherits:57}],37:[function(t,l,b){var u=t("inherits"),s=t("../driver/xhr");function o(e,r,n){s.call(this,e,r,n,{noCredentials:!0})}u(o,s),o.enabled=s.enabled,l.exports=o},{"../driver/xhr":17,inherits:57}],38:[function(t,l,b){(function(u){(function(){var s=t("../utils/event"),o=t("../utils/url"),e=t("inherits"),r=t("events").EventEmitter,n=t("./driver/websocket"),i=function(){};function a(c,v,d){if(!a.enabled())throw new Error("Transport created when disabled");r.call(this);var h=this,f=o.addPath(c,"/websocket");f.slice(0,5)==="https"?f="wss"+f.slice(5):f="ws"+f.slice(4),this.url=f,this.ws=new n(this.url,[],d),this.ws.onmessage=function(m){i("message event",m.data),h.emit("message",m.data)},this.unloadRef=s.unloadAdd(function(){h.ws.close()}),this.ws.onclose=function(m){i("close event",m.code,m.reason),h.emit("close",m.code,m.reason),h._cleanup()},this.ws.onerror=function(m){h.emit("close",1006,"WebSocket connection broken"),h._cleanup()}}e(a,r),a.prototype.send=function(c){var v="["+c+"]";this.ws.send(v)},a.prototype.close=function(){var c=this.ws;this._cleanup(),c&&c.close()},a.prototype._cleanup=function(){var c=this.ws;c&&(c.onmessage=c.onclose=c.onerror=null),s.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},a.enabled=function(){return!!n},a.transportName="websocket",a.roundTrips=2,l.exports=a}).call(this)}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:55,events:3,inherits:57}],39:[function(t,l,b){var u=t("inherits"),s=t("./lib/ajax-based"),o=t("./xdr-streaming"),e=t("./receiver/xhr"),r=t("./sender/xdr");function n(i){if(!r.enabled)throw new Error("Transport created when disabled");s.call(this,i,"/xhr",e,r)}u(n,s),n.enabled=o.enabled,n.transportName="xdr-polling",n.roundTrips=2,l.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(t,l,b){var u=t("inherits"),s=t("./lib/ajax-based"),o=t("./receiver/xhr"),e=t("./sender/xdr");function r(n){if(!e.enabled)throw new Error("Transport created when disabled");s.call(this,n,"/xhr_streaming",o,e)}u(r,s),r.enabled=function(n){return n.cookie_needed||n.nullOrigin?!1:e.enabled&&n.sameScheme},r.transportName="xdr-streaming",r.roundTrips=2,l.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(t,l,b){var u=t("inherits"),s=t("./lib/ajax-based"),o=t("./receiver/xhr"),e=t("./sender/xhr-cors"),r=t("./sender/xhr-local");function n(i){if(!r.enabled&&!e.enabled)throw new Error("Transport created when disabled");s.call(this,i,"/xhr",o,e)}u(n,s),n.enabled=function(i){return i.nullOrigin?!1:r.enabled&&i.sameOrigin?!0:e.enabled},n.transportName="xhr-polling",n.roundTrips=2,l.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(t,l,b){(function(u){(function(){var s=t("inherits"),o=t("./lib/ajax-based"),e=t("./receiver/xhr"),r=t("./sender/xhr-cors"),n=t("./sender/xhr-local"),i=t("../utils/browser");function a(c){if(!n.enabled&&!r.enabled)throw new Error("Transport created when disabled");o.call(this,c,"/xhr_streaming",e,r)}s(a,o),a.enabled=function(c){return c.nullOrigin||i.isOpera()?!1:r.enabled},a.transportName="xhr-streaming",a.roundTrips=2,a.needBody=!!u.document,l.exports=a}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(t,l,b){(function(u){(function(){u.crypto&&u.crypto.getRandomValues?l.exports.randomBytes=function(s){var o=new Uint8Array(s);return u.crypto.getRandomValues(o),o}:l.exports.randomBytes=function(s){for(var o=new Array(s),e=0;e<s;e++)o[e]=Math.floor(Math.random()*256);return o}}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],44:[function(t,l,b){(function(u){(function(){l.exports={isOpera:function(){return u.navigator&&/opera/i.test(u.navigator.userAgent)},isKonqueror:function(){return u.navigator&&/konqueror/i.test(u.navigator.userAgent)},hasDomain:function(){if(!u.document)return!0;try{return!!u.document.domain}catch{return!1}}}}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],45:[function(t,l,b){var u=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s,o=function(e){var r,n={},i=[];for(r=0;r<65536;r++)i.push(String.fromCharCode(r));return e.lastIndex=0,i.join("").replace(e,function(a){return n[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};l.exports={quote:function(e){var r=JSON.stringify(e);return u.lastIndex=0,u.test(r)?(s||(s=o(u)),r.replace(u,function(n){return s[n]})):r}}},{}],46:[function(t,l,b){(function(u){(function(){var s=t("./random"),o={},e=!1,r=u.chrome&&u.chrome.app&&u.chrome.app.runtime;l.exports={attachEvent:function(i,a){typeof u.addEventListener!="undefined"?u.addEventListener(i,a,!1):u.document&&u.attachEvent&&(u.document.attachEvent("on"+i,a),u.attachEvent("on"+i,a))},detachEvent:function(i,a){typeof u.addEventListener!="undefined"?u.removeEventListener(i,a,!1):u.document&&u.detachEvent&&(u.document.detachEvent("on"+i,a),u.detachEvent("on"+i,a))},unloadAdd:function(i){if(r)return null;var a=s.string(8);return o[a]=i,e&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(i){i in o&&delete o[i]},triggerUnloadCallbacks:function(){for(var i in o)o[i](),delete o[i]}};var n=function(){e||(e=!0,l.exports.triggerUnloadCallbacks())};r||l.exports.attachEvent("unload",n)}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./random":50}],47:[function(t,l,b){(function(u,s){(function(){var o=t("./event"),e=t("./browser");l.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){l.exports.WPrefix in s||(s[l.exports.WPrefix]={})},postMessage:function(r,n){s.parent!==s&&s.parent.postMessage(JSON.stringify({windowId:l.exports.currentWindowId,type:r,data:n||""}),"*")},createIframe:function(r,n){var i=s.document.createElement("iframe"),a,c,v=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},d=function(){i&&(v(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),o.unloadDel(c))},h=function(m){i&&(d(),n(m))},f=function(m,_){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(m,_)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){h("onload timeout")},2e3)},s.document.body.appendChild(i),a=setTimeout(function(){h("timeout")},15e3),c=o.unloadAdd(d),{post:f,cleanup:d,loaded:v}},createHtmlfile:function(r,n){var i=["Active"].concat("Object").join("X"),a=new s[i]("htmlfile"),c,v,d,h=function(){clearTimeout(c),d.onerror=null},f=function(){a&&(h(),o.unloadDel(v),d.parentNode.removeChild(d),d=a=null,CollectGarbage())},m=function(I){a&&(f(),n(I))},_=function(I,N){try{setTimeout(function(){d&&d.contentWindow&&d.contentWindow.postMessage(I,N)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+s.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[l.exports.WPrefix]=s[l.exports.WPrefix];var j=a.createElement("div");return a.body.appendChild(j),d=a.createElement("iframe"),j.appendChild(d),d.src=r,d.onerror=function(){m("onerror")},c=setTimeout(function(){m("timeout")},15e3),v=o.unloadAdd(f),{post:_,cleanup:f,loaded:h}}},l.exports.iframeEnabled=!1,s.document&&(l.exports.iframeEnabled=(typeof s.postMessage=="function"||typeof s.postMessage=="object")&&!e.isKonqueror())}).call(this)}).call(this,{env:{}},typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./browser":44,"./event":46,debug:55}],48:[function(t,l,b){(function(u){(function(){var s={};["log","debug","warn"].forEach(function(o){var e;try{e=u.console&&u.console[o]&&u.console[o].apply}catch{}s[o]=e?function(){return u.console[o].apply(u.console,arguments)}:o==="log"?function(){}:s.log}),l.exports=s}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],49:[function(t,l,b){l.exports={isObject:function(u){var s=typeof u;return s==="function"||s==="object"&&!!u},extend:function(u){if(!this.isObject(u))return u;for(var s,o,e=1,r=arguments.length;e<r;e++){s=arguments[e];for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(u[o]=s[o])}return u}}},{}],50:[function(t,l,b){var u=t("crypto"),s="abcdefghijklmnopqrstuvwxyz012345";l.exports={string:function(o){for(var e=s.length,r=u.randomBytes(o),n=[],i=0;i<o;i++)n.push(s.substr(r[i]%e,1));return n.join("")},number:function(o){return Math.floor(Math.random()*o)},numberString:function(o){var e=(""+(o-1)).length,r=new Array(e+1).join("0");return(r+this.number(o)).slice(-e)}}},{crypto:43}],51:[function(t,l,b){(function(u){(function(){var s=function(){};l.exports=function(o){return{filterToEnabled:function(e,r){var n={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],o.forEach(function(i){if(!!i&&!(i.transportName==="websocket"&&r.websocket===!1)){if(e.length&&e.indexOf(i.transportName)===-1){s("not in whitelist",i.transportName);return}i.enabled(r)?(s("enabled",i.transportName),n.main.push(i),i.facadeTransport&&n.facade.push(i.facadeTransport)):s("disabled",i.transportName)}}),n}}}}).call(this)}).call(this,{env:{}})},{debug:55}],52:[function(t,l,b){(function(u){(function(){var s=t("url-parse");l.exports={getOrigin:function(o){if(!o)return null;var e=new s(o);if(e.protocol==="file:")return null;var r=e.port;return r||(r=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(o,e){var r=this.getOrigin(o)===this.getOrigin(e);return r},isSchemeEqual:function(o,e){return o.split(":")[0]===e.split(":")[0]},addPath:function(o,e){var r=o.split("?");return r[0]+e+(r[1]?"?"+r[1]:"")},addQuery:function(o,e){return o+(o.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(o){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(o)||/^\[::1\]$/.test(o)}}}).call(this)}).call(this,{env:{}})},{debug:55,"url-parse":60}],53:[function(t,l,b){l.exports="1.6.1"},{}],54:[function(t,l,b){var u=1e3,s=u*60,o=s*60,e=o*24,r=e*7,n=e*365.25;l.exports=function(d,h){h=h||{};var f=typeof d;if(f==="string"&&d.length>0)return i(d);if(f==="number"&&isFinite(d))return h.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function i(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(!!h){var f=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*n;case"weeks":case"week":case"w":return f*r;case"days":case"day":case"d":return f*e;case"hours":case"hour":case"hrs":case"hr":case"h":return f*o;case"minutes":case"minute":case"mins":case"min":case"m":return f*s;case"seconds":case"second":case"secs":case"sec":case"s":return f*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(d){var h=Math.abs(d);return h>=e?Math.round(d/e)+"d":h>=o?Math.round(d/o)+"h":h>=s?Math.round(d/s)+"m":h>=u?Math.round(d/u)+"s":d+"ms"}function c(d){var h=Math.abs(d);return h>=e?v(d,h,e,"day"):h>=o?v(d,h,o,"hour"):h>=s?v(d,h,s,"minute"):h>=u?v(d,h,u,"second"):d+" ms"}function v(d,h,f,m){var _=h>=f*1.5;return Math.round(d/f)+" "+m+(_?"s":"")}},{}],55:[function(t,l,b){(function(u){(function(){b.formatArgs=o,b.save=e,b.load=r,b.useColors=s,b.storage=n(),b.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+l.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;a.splice(1,0,c,"color: inherit");let v=0,d=0;a[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(v++,h==="%c"&&(d=v))}),a.splice(d,0,c)}b.log=console.debug||console.log||(()=>{});function e(a){try{a?b.storage.setItem("debug",a):b.storage.removeItem("debug")}catch{}}function r(){let a;try{a=b.storage.getItem("debug")}catch{}return!a&&typeof u!="undefined"&&"env"in u&&(a={}.DEBUG),a}function n(){try{return localStorage}catch{}}l.exports=t("./common")(b);const{formatters:i}=l.exports;i.j=function(a){try{return JSON.stringify(a)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,{env:{}})},{"./common":56}],56:[function(t,l,b){function u(s){e.debug=e,e.default=e,e.coerce=v,e.disable=i,e.enable=n,e.enabled=a,e.humanize=t("ms"),e.destroy=d,Object.keys(s).forEach(h=>{e[h]=s[h]}),e.names=[],e.skips=[],e.formatters={};function o(h){let f=0;for(let m=0;m<h.length;m++)f=(f<<5)-f+h.charCodeAt(m),f|=0;return e.colors[Math.abs(f)%e.colors.length]}e.selectColor=o;function e(h){let f,m=null,_,j;function I(...N){if(!I.enabled)return;const R=I,w=Number(new Date),y=w-(f||w);R.diff=y,R.prev=f,R.curr=w,f=w,N[0]=e.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let x=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(E,g)=>{if(E==="%%")return"%";x++;const O=e.formatters[g];if(typeof O=="function"){const C=N[x];E=O.call(R,C),N.splice(x,1),x--}return E}),e.formatArgs.call(R,N),(R.log||e.log).apply(R,N)}return I.namespace=h,I.useColors=e.useColors(),I.color=e.selectColor(h),I.extend=r,I.destroy=e.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(_!==e.namespaces&&(_=e.namespaces,j=e.enabled(h)),j),set:N=>{m=N}}),typeof e.init=="function"&&e.init(I),I}function r(h,f){const m=e(this.namespace+(typeof f=="undefined"?":":f)+h);return m.log=this.log,m}function n(h){e.save(h),e.namespaces=h,e.names=[],e.skips=[];let f;const m=(typeof h=="string"?h:"").split(/[\s,]+/),_=m.length;for(f=0;f<_;f++)!m[f]||(h=m[f].replace(/\*/g,".*?"),h[0]==="-"?e.skips.push(new RegExp("^"+h.substr(1)+"$")):e.names.push(new RegExp("^"+h+"$")))}function i(){const h=[...e.names.map(c),...e.skips.map(c).map(f=>"-"+f)].join(",");return e.enable(""),h}function a(h){if(h[h.length-1]==="*")return!0;let f,m;for(f=0,m=e.skips.length;f<m;f++)if(e.skips[f].test(h))return!1;for(f=0,m=e.names.length;f<m;f++)if(e.names[f].test(h))return!0;return!1}function c(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function v(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}l.exports=u},{ms:54}],57:[function(t,l,b){typeof Object.create=="function"?l.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(s,o){if(o){s.super_=o;var e=function(){};e.prototype=o.prototype,s.prototype=new e,s.prototype.constructor=s}}},{}],58:[function(t,l,b){var u=Object.prototype.hasOwnProperty,s;function o(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function e(n){for(var i=/([^=?&]+)=?([^&]*)/g,a={},c;c=i.exec(n);){var v=o(c[1]),d=o(c[2]);v===null||d===null||v in a||(a[v]=d)}return a}function r(n,i){i=i||"";var a=[],c,v;typeof i!="string"&&(i="?");for(v in n)if(u.call(n,v)){if(c=n[v],!c&&(c===null||c===s||isNaN(c))&&(c=""),v=encodeURIComponent(v),c=encodeURIComponent(c),v===null||c===null)continue;a.push(v+"="+c)}return a.length?i+a.join("&"):""}b.stringify=r,b.parse=e},{}],59:[function(t,l,b){l.exports=function(s,o){if(o=o.split(":")[0],s=+s,!s)return!1;switch(o){case"http":case"ws":return s!==80;case"https":case"wss":return s!==443;case"ftp":return s!==21;case"gopher":return s!==70;case"file":return!1}return s!==0}},{}],60:[function(t,l,b){(function(u){(function(){var s=t("requires-port"),o=t("querystringify"),e=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,n=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function v(w){return(w||"").toString().replace(e,"")}var d=[["#","hash"],["?","query"],function(y,x){return m(x.protocol)?y.replace(/\\/g,"/"):y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function f(w){var y;typeof window!="undefined"?y=window:typeof u!="undefined"?y=u:typeof self!="undefined"?y=self:y={};var x=y.location||{};w=w||x;var p={},E=typeof w,g;if(w.protocol==="blob:")p=new I(unescape(w.pathname),{});else if(E==="string"){p=new I(w,{});for(g in h)delete p[g]}else if(E==="object"){for(g in w)g in h||(p[g]=w[g]);p.slashes===void 0&&(p.slashes=n.test(w.href))}return p}function m(w){return w==="file:"||w==="ftp:"||w==="http:"||w==="https:"||w==="ws:"||w==="wss:"}function _(w,y){w=v(w),w=w.replace(r,""),y=y||{};var x=a.exec(w),p=x[1]?x[1].toLowerCase():"",E=!!x[2],g=!!x[3],O=0,C;return E?g?(C=x[2]+x[3]+x[4],O=x[2].length+x[3].length):(C=x[2]+x[4],O=x[2].length):g?(C=x[3]+x[4],O=x[3].length):C=x[4],p==="file:"?O>=2&&(C=C.slice(2)):m(p)?C=x[4]:p?E&&(C=C.slice(2)):O>=2&&m(y.protocol)&&(C=x[4]),{protocol:p,slashes:E||m(p),slashesCount:O,rest:C}}function j(w,y){if(w==="")return y;for(var x=(y||"/").split("/").slice(0,-1).concat(w.split("/")),p=x.length,E=x[p-1],g=!1,O=0;p--;)x[p]==="."?x.splice(p,1):x[p]===".."?(x.splice(p,1),O++):O&&(p===0&&(g=!0),x.splice(p,1),O--);return g&&x.unshift(""),(E==="."||E==="..")&&x.push(""),x.join("/")}function I(w,y,x){if(w=v(w),w=w.replace(r,""),!(this instanceof I))return new I(w,y,x);var p,E,g,O,C,A,U=d.slice(),P=typeof y,k=this,L=0;for(P!=="object"&&P!=="string"&&(x=y,y=null),x&&typeof x!="function"&&(x=o.parse),y=f(y),E=_(w||"",y),p=!E.protocol&&!E.slashes,k.slashes=E.slashes||p&&y.slashes,k.protocol=E.protocol||y.protocol||"",w=E.rest,(E.protocol==="file:"&&(E.slashesCount!==2||c.test(w))||!E.slashes&&(E.protocol||E.slashesCount<2||!m(k.protocol)))&&(U[3]=[/(.*)/,"pathname"]);L<U.length;L++){if(O=U[L],typeof O=="function"){w=O(w,k);continue}g=O[0],A=O[1],g!==g?k[A]=w:typeof g=="string"?(C=g==="@"?w.lastIndexOf(g):w.indexOf(g),~C&&(typeof O[2]=="number"?(k[A]=w.slice(0,C),w=w.slice(C+O[2])):(k[A]=w.slice(C),w=w.slice(0,C)))):(C=g.exec(w))&&(k[A]=C[1],w=w.slice(0,C.index)),k[A]=k[A]||p&&O[3]&&y[A]||"",O[4]&&(k[A]=k[A].toLowerCase())}x&&(k.query=x(k.query)),p&&y.slashes&&k.pathname.charAt(0)!=="/"&&(k.pathname!==""||y.pathname!=="")&&(k.pathname=j(k.pathname,y.pathname)),k.pathname.charAt(0)!=="/"&&m(k.protocol)&&(k.pathname="/"+k.pathname),s(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(C=k.auth.indexOf(":"),~C?(k.username=k.auth.slice(0,C),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(C+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin=k.protocol!=="file:"&&m(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}function N(w,y,x){var p=this;switch(w){case"query":typeof y=="string"&&y.length&&(y=(x||o.parse)(y)),p[w]=y;break;case"port":p[w]=y,s(y,p.protocol)?y&&(p.host=p.hostname+":"+y):(p.host=p.hostname,p[w]="");break;case"hostname":p[w]=y,p.port&&(y+=":"+p.port),p.host=y;break;case"host":p[w]=y,i.test(y)?(y=y.split(":"),p.port=y.pop(),p.hostname=y.join(":")):(p.hostname=y,p.port="");break;case"protocol":p.protocol=y.toLowerCase(),p.slashes=!x;break;case"pathname":case"hash":if(y){var E=w==="pathname"?"/":"#";p[w]=y.charAt(0)!==E?E+y:y}else p[w]=y;break;case"username":case"password":p[w]=encodeURIComponent(y);break;case"auth":var g=y.indexOf(":");~g?(p.username=y.slice(0,g),p.username=encodeURIComponent(decodeURIComponent(p.username)),p.password=y.slice(g+1),p.password=encodeURIComponent(decodeURIComponent(p.password))):p.username=encodeURIComponent(decodeURIComponent(y))}for(var O=0;O<d.length;O++){var C=d[O];C[4]&&(p[C[1]]=p[C[1]].toLowerCase())}return p.auth=p.password?p.username+":"+p.password:p.username,p.origin=p.protocol!=="file:"&&m(p.protocol)&&p.host?p.protocol+"//"+p.host:"null",p.href=p.toString(),p}function R(w){(!w||typeof w!="function")&&(w=o.stringify);var y,x=this,p=x.host,E=x.protocol;E&&E.charAt(E.length-1)!==":"&&(E+=":");var g=E+(x.protocol&&x.slashes||m(x.protocol)?"//":"");return x.username?(g+=x.username,x.password&&(g+=":"+x.password),g+="@"):x.password?(g+=":"+x.password,g+="@"):x.protocol!=="file:"&&m(x.protocol)&&!p&&x.pathname!=="/"&&(g+="@"),(p[p.length-1]===":"||i.test(x.hostname)&&!x.port)&&(p+=":"),g+=p+x.pathname,y=typeof x.query=="object"?w(x.query):x.query,y&&(g+=y.charAt(0)!=="?"?"?"+y:y),x.hash&&(g+=x.hash),g}I.prototype={set:N,toString:R},I.extractProtocol=_,I.location=f,I.trimLeft=v,I.qs=o,l.exports=I}).call(this)}).call(this,typeof F!="undefined"?F:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{querystringify:58,"requires-port":59}]},{},[1])(1)})})(ae);var We=ae.exports;const Xe=ie("message",{state:()=>({username:"",content:[""],userNameColor:{},someoneCalling:!1,connectionStatus:!1}),getters:{getUsername:S=>S.username,getContent:S=>S.content,getUserNameColor:S=>T=>S.userNameColor[T],getSomeOneCalling:S=>S.someoneCalling,getConnectionStatus:S=>S.connectionStatus},actions:{addToContent(S){this.content.push("<p>"+S+"</p>")},addUserNameColor(S,T){this.userNameColor[S]=T},setSomeOneCalling(S){this.someoneCalling=S},setConnectionStatus(S){this.connectionStatus=S}}}),He=ie("video",{state:()=>({video:Q(),signal:"",caller:"",connection:Q(),remoteVideo:Q()}),getters:{getVideo:S=>S.video,getSignal:S=>S.signal,getConnection:S=>S.connection,getRemoteVideo:S=>S.remoteVideo,getCaller:S=>S.caller},actions:{setVideo(S){this.video=S},setSignal(S){this.signal=S},setConnection(S){this.connection=S},setRmodeVideo(S){this.remoteVideo=S},setCaller(S){this.caller=S}}});class Je{constructor(){this.__stack={}}on(T,t,l){return(this.__stack[T]||(this.__stack[T]=[])).push({fn:t,ctx:l}),this}once(T,t,l){const b=(...u)=>{this.off(T,b),t.apply(l,u)};return b.__callback=t,this.on(T,b,l)}emit(T){const t=this.__stack[T];if(t!==void 0){const l=[].slice.call(arguments,1);t.forEach(b=>{b.fn.apply(b.ctx,l)})}return this}off(T,t){const l=this.__stack[T];if(l===void 0)return this;if(t===void 0)return delete this.__stack[T],this;const b=l.filter(u=>u.fn!==t&&u.fn.__callback!==t);return b.length!==0?this.__stack[T]=b:delete this.__stack[T],this}}const M=Xe(),Ge="http://192.168.1.5:3333/ws",ne=He(),H=new Je,Y={},re=["#2196F3","#32c787","#00BCD4","#ff5652","#ffc107","#ff85af","#FF9800","#39bbb0"];let D;const Ke=()=>z(),z=()=>{const S=new We(Ge);D=Be.over(S),D.debug=null;const T={};return M.getConnectionStatus||D.connect(T,()=>{M.setConnectionStatus(!0),D.subscribe("/topic/public",Ve,T)},t=>{console.log("error is=>",t)}),D},Ze=(S,T)=>{const t={sender:S,content:T,type:"CHAT"};if(M.getConnectionStatus)try{D.send("/app/chat.sendMessage",Y,JSON.stringify(t))}catch{z()}},Ye=S=>{if(M.getConnectionStatus)try{D.send("/app/chat.addUser",Y,JSON.stringify({sender:S,type:"JOIN"}))}catch{z()}return M.getConnectionStatus};function $e(S){let T=0;for(let l=0;l<S.length;l++)T=31*T+S.charCodeAt(l);const t=Math.abs(T%re.length);return re[t]}function Ve(S){var b;const T=JSON.parse(S.body),t=T.sender,l=T.content;if(T.type==="JOIN"){H.emit("refresh-users");let u='<li class="row justify-center">';u=u+t+" joined to chat!",u+="</li>",M.addToContent(u),M.addUserNameColor(t,$e(t)),H.emit("scroll")}else if(T.type==="LEAVE"){H.emit("refresh-users");let u='<li class="row justify-center">';u=u+t+" left chat!",u+="</li>",M.addToContent(u),H.emit("scroll")}else if(T.type==="VIDEOCALL")console.log("Video call",T),T.from!=M.getUsername&&T.sender==M.getUsername&&(M.setSomeOneCalling(!0),ne.setSignal(T.signal),ne.setCaller(T.sender));else{let u="";t==M.getUsername?u='<li class="row justify-end"> <div>':u=`<li class="row justify-start"><span class="avatar" style="background-color:${(b=M.getUserNameColor(t))!=null?b:"red"}">`+t[0]+'</span><div><span class="sender-name">'+t+"</span>",u+='<span class="message-content">'+l+"</span></div>",u+="</li>",M.addToContent(u),H.emit("scroll")}}const qe=(S,T,t)=>{const l={signal:S,sender:T,from:t,type:"VIDEOCALL"};if(M.getConnectionStatus)try{D.send("/app/chat.videoCall",Y,JSON.stringify(l))}catch{z()}};export{Qe as Q,We as S,He as a,H as b,z as c,Be as d,Ye as e,Ke as i,Ze as s,Xe as u,qe as v};
